<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <title>Robolectric</title>
    <script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(["_setAccount", "UA-58882116-1"]);
  _gaq.push(["_trackPageview"]);
  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? '//ssl' : '//www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>
    <link href="../images/favicon.ico" rel="icon" type="image/ico" />
    <link href="../stylesheets/application-4badc936.css" rel="stylesheet" type="text/css" />
    <script src="../javascripts/application-da39a3ee.js" type="text/javascript"></script>
</head>

<body>
    <div id="wrapper">
        <div id="sidebar">
            <a href="/"><img class="logo" src="../images/robolectric-stacked-3f7ad42c.png" /></a>
<ul class='nav nav-stacked'><li class='nav-header'>Setup</li><li class='nav-item'><a href='/getting-started/'>Getting Started</a></li><li class='nav-item'><a href='/writing-a-test/'>Writing Your First Test</a></li></ul><ul class='nav nav-stacked'><li class='nav-header'>User Guide</li><li class='nav-item'><a href='/configuring/'>Configuring Robolectric</a></li><li class='nav-item'><a href='/activity-lifecycle/'>Driving the Activity Lifecycle</a></li><li class='nav-item'><a href='/using-add-on-modules/'>Using Add-On Modules</a></li><li class='nav-item'><a href='/using-libraries/'>Using Library Resources</a></li><li class='nav-item'><a href='/using-qualifiers/'>Using Qualified Resources</a></li></ul><ul class='nav nav-stacked'><li class='nav-header'>Customizing</li><li class='nav-item'><a href='/extending/'>Extending Robolectric</a></li><li class='nav-item'><a href='/custom-shadows/'>Creating Custom Shadows</a></li><li class='nav-item'><a href='/custom-test-runner/'>Customizing the Test Runner</a></li></ul><ul class='nav nav-stacked'><li class='nav-header'>Contributing</li><li class='nav-item'><a href='/contributing/'>Contributor Guidelines</a></li></ul>

            <ul class="nav nav-stacked">
    <li class="nav-header">Resources</li>
    <li class="nav-item">
        <a href='http://groups.google.com/group/robolectric'>Mailing List</a>
    </li>
    <li class="nav-item">
        <a href='/javadoc/2.4/index.html'>Robolectric 2.4 Javadocs</a>
    </li>
    <li class="nav-item">
        <a href='/javadoc/3.0/index.html'>Robolectric 3.0 Javadocs</a>
    </li>
    <li class="nav-item">
        <a href='/javadoc/3.1/index.html'>Robolectric 3.1 Javadocs</a>
    </li>
</ul>

        </div>

        <div id="content">
            <h1>Getting Started</h1>

<p>Robolectric works best with Gradle or Maven. If you are starting a new project, we would reccomend Gradle first (since it is the build system of choice in Android Studio) and Maven second. Regardless, Robolectric should integrate well into whatever build tool you are using.</p>

<h2>Building with Gradle</h2>

<p>Add the following to your build.gradle:</p>
<pre class="highlight plaintext">testCompile "org.robolectric:robolectric:3.1.2"
</pre>
<p>Annotate your test with the Gradle test runner:</p>
<pre class="highlight plaintext">@RunWith(RobolectricGradleTestRunner.class)
@Config(constants = BuildConfig.class)
public class SandwichTest {
}
</pre>
<p>Note that you must specify the <code>constants</code> field which points to the <code>BuildConfig.class</code> generated by the build system. Robolectric uses the constants in the class to compute the output paths used by Gradle when building your project. Without these values, Robolectric will not be able to find your merged manifest, resources, or assets.</p>

<h2>Building with Maven</h2>

<p>Add the following to your pom.xml:</p>
<pre class="highlight plaintext">&lt;dependency&gt;
   &lt;groupId&gt;org.robolectric&lt;/groupId&gt;
   &lt;artifactId&gt;robolectric&lt;/artifactId&gt;
   &lt;version&gt;3.1.2&lt;/version&gt;
   &lt;scope&gt;test&lt;/scope&gt;
&lt;/dependency&gt;
</pre>
<p>Annotate your test with the base test runner:</p>
<pre class="highlight plaintext">@RunWith(RobolectricTestRunner.class)
public class SandwichTest {
}
</pre>
<p>If you reference resources that are outside of your project (i.e. in a aar dependency), you will need to provide Robolectric with a pointer to the exploded aar in your build system. See the section titled &quot;Using Library Resources&quot; for more information.</p>

<h2>Building with Android Studio</h2>

<p>Robolectric works with Android Studio 1.1.0 or newer. Simply follow the instructions above for working with Gradle. For versions of Android Studio older than 2.0.0, enable the unit test support in the &quot;Build Variants&quot; tab and run your test. As of Android Studio 2.0.0, the test artifacts feature is enabled by default, and the setting to enable/disable test artifacts can be found in File Menu -&gt; Settings -&gt; Build, Execution, Deployment -&gt; Build Tools -&gt; Gradle -&gt; Experimental.</p>

<p><img alt="Android Enable Unit Tests" src="../images/android-studio-enable-unit-tests-f15bd816.png" /></p>

<h3>Note for Linux and Mac Users</h3>

<p>If you are on Linux or on a Mac, you will probably need to configure the default JUnit test runner configuration in order to work around a bug where Android Studio does not set the working directory to the module being tested. This can be accomplished by editing the run configurations, <code>Defaults -&gt; JUnit</code> and changing the working directory value to <code>$MODULE_DIR$</code>.</p>

<p><img alt="Android Studio Configure Defaults" src="../images/android-studio-configure-defaults-4bf48402.png" /></p>

<h2>Building with Eclipse</h2>

<p>Install the <a href="http://rgladwell.github.io/m2e-android/">m2e-android</a> plugin for Eclipse, and import the project as a Maven project. After importing into Eclipse, you have to mark the <em>consume-aar</em> goal as ignored, since AAR consumption is not yet supported by m2e-android. To do this, simply apply the Quick fix on the &quot;Plugin execution not covered by lifecycle configuration&quot; error. To run your tests, just right click on the project -&gt; <em>Run as</em> -&gt; <em>JUnit Test</em>, then choose the <em>Eclipse JUnit Launcher</em>.</p>

<h2>Sample Projects</h2>

<p>Look at the <a href="https://github.com/robolectric/robolectric-samples">Robolectric samples</a> to see how fast and easy it can be to test drive the development of Android applications. In addition, check out the <a href="https://github.com/robolectric/deckard-gradle">Gradle</a> or <a href="https://github.com/robolectric/deckard-maven">Maven</a> starter projects.</p>

        </div>
    </div>
</body>
</html>